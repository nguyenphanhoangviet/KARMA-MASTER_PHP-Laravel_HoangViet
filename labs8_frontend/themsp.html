<head>
    <meta charset="UTF-8" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <div class="container">
    <div class="col-md-8 m-auto border border-primary px-3 mt-3 shadow-lg">
      <h3 class="text-center">Thêm sản phẩm</h3>

      <div class="mb-3">
        Tên sản phẩm

        <input
          type="text"
          id="ten_sp"
          class="form-control shadow-none border-primary"
        />
      </div>

      <div class="mb-3">
        Giá sản phẩm

        <input
          type="number"
          id="gia"
          class="form-control shadow-none border-primary"
        />
      </div>

      <div class="mb-3">
        Loại

        <input
          type="number"
          id="id_loai"
          class="form-control shadow-none border-primary"
        />
      </div>

      <div class="mb-3">
        <button type="button" onclick="guiSP()" class="btn btn-primary px-3">
          Thêm
        </button>
      </div>
    </div>
  </div>
</body>
<script>
  function guiSP() {
    let url = `http://localhost:8000/api/admin/sp`;

    let ten_sp = document.querySelector("#ten_sp").value;

    let gia = document.querySelector("#gia").value;

    let id_loai = document.querySelector("#id_loai").value;

    let data = { ten_sp: ten_sp, gia: gia, id_loai: id_loai };

    let options = {
      method: "POST",

      body: JSON.stringify(data),

      headers: { "Content-type": "application/json; charset=UTF-8" },
    };

    fetch(url, options)
      .then(function (res) {
        if (!res.ok) throw Error(res.statusText);

        return res.json(); //dùng text() nếu dạng text
      })

      .then(function (data) {
        console.log("Response từ server= ", data);

        alert("Đã thêm xong");
      })

      .catch(function (error) {
        console.log("Có lỗi nè : \n", error);
      });
  }
</script>
